import{R as d,j as t,c as M,u as w,_ as v}from"./index-8756e970.js";import{c as g,A as N,m as S,G as f,a as k,L as C}from"./tour-78341ae9.js";import{B as D}from"./index.esm-9f1fd9ee.js";import{a as T,d as Y}from"./dayjs.min-9c205475.js";const L={hidden:{opacity:0,top:100,transition:{duration:.2}},show:{opacity:1,top:50,transition:{duration:.2}}},A=[10,25,50,100],H=({defaultvalue:e,rows:l=A,onChange:c})=>{const[r,m]=d.useState(!1),i=()=>m(x=>!x),n=x=>()=>{c(x),i()};return t.jsxs("div",{className:"relative",children:[t.jsx("button",{type:"button",onClick:i,className:g("form-select rounded-lg w-[4rem] h-8 md:h-10 md:w-[5rem] text-gray-500 flex justify-center items-center","border-gray-300 focus:border-gray-300 focus:ring-0"),children:e}),t.jsx(N,{children:r&&t.jsx(S.div,{className:"absolute bg-white rounded-md shadow-md w-[6rem] top-14 z-10","aria-label":"row-select-wrapper",variants:L,initial:"hidden",animate:"show",exit:"hidden",children:l.map((x,p)=>t.jsx("div",{role:"button",onClick:n(x),tabIndex:0,className:g("flex items-center justify-between px-3 py-2 text-[1.1rem]",e===x?"bg-blue-100/50 text-black":"text-gray-400"),children:t.jsx("span",{children:x})},p))})})]})},R=({row:e,onChangeRow:l,onChangeSearch:c})=>t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between","aria-label":"filtering",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm md:text-base","aria-label":"filtering__row-select",children:[t.jsx("p",{className:"text-gray-700",children:"Tampilkan"}),t.jsx(H,{defaultvalue:e,onChange:r=>l(r)}),t.jsx("p",{className:"text-gray-700",children:"Masukan"})]}),t.jsxs("div",{className:"relative w-full md:w-4/12 lg:w-2/12 my-5","aria-label":"filtering__input-search",children:[t.jsx("input",{className:g("border-gray-300 focus:border-gray-300 focus:ring-0 px-4 text-gray-900","focus:outline-none w-full tracking-wide rounded-lg","placeholder:font-medium placeholder:tracking-wide placeholder:text-gray-400 text-sm md:text-base","peer/search"),onChange:c,type:"search",placeholder:"Cari nama tour"}),t.jsx(D,{className:"absolute top-3 right-4 peer-focus/search:hidden peer-hover/search:hidden"})]})]});function J(e){return f({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M7 10l5 5 5-5H7z"}}]})(e)}function B(e){return f({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M7 14l5-5 5 5H7z"}}]})(e)}var P={exports:{}};(function(e,l){(function(c,r){e.exports=r(T)})(M,function(c){function r(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var m=r(c),i={name:"id",weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function(n){return n+"."}};return m.default.locale(i,null,!0),i})})(P);const E=["Tanggal di buat","Nama Tour","Action"],O=({data:e})=>{const l=w(),[c,r]=d.useState("Nama Tour"),[m,i]=d.useState("asc"),n=d.useMemo(()=>["Tanggal di buat"].includes(c)?e.sort((s,o)=>{const a=new Date(s.created_at).getTime(),h=new Date(o.created_at).getTime();return m==="asc"?a-h:h-a}):["Nama Tour"].includes(c)?e==null?void 0:e.sort((s,o)=>{var a,h;return m==="asc"?(a=s.name)==null?void 0:a.localeCompare(o.name):(h=o.name)==null?void 0:h.localeCompare(s.name)}):e,[e,c,m]),x=s=>()=>{i(o=>o==="asc"?"desc":"asc"),r(s)},p=s=>()=>l(`/tour/${s}`),y=s=>()=>l(`/editor/${s}`);return t.jsx("div",{className:"overflow-x-auto","aria-label":"table-container",children:t.jsxs("table",{className:"w-full border-collapse min-w-[1500px]",children:[t.jsx("thead",{children:t.jsx("tr",{className:"bg-blue-700 text-white",children:E.map((s,o)=>t.jsx("th",{className:"w-1/6 font-medium py-2 lg:py-3 cursor-pointer text-sm md:text-base",children:t.jsxs("div",{className:"w-max mx-auto flex items-center",onClick:x(s),children:[s,t.jsx("div",{className:"flex flex-col opacity-60 hover:opacity-100",children:s!=="Action"&&t.jsxs(t.Fragment,{children:[t.jsx(B,{className:"translate-y-1"}),t.jsx(J,{className:"-translate-y-1"})]})})]})},o))})}),t.jsxs("tbody",{children:[n==null?void 0:n.map((s,o)=>t.jsxs("tr",{className:g((o+1)%2===0?"bg-blue-500/10":""),children:[t.jsx("td",{className:"w-1/6 py-[.3rem] md:py-[.5rem] lg:py-2 text-center text-sm md:text-base",children:Y(s.created_at).locale("id").format("ddd D MMM YYYY")}),t.jsx("td",{className:"w-1/6 py-[.3rem] md:py-[.5rem] lg:py-2 text-center text-sm md:text-base",children:s.name}),t.jsx("td",{className:"w-1/6 py-[.3rem] md:py-[.5rem] lg:py-2 text-center text-sm md:text-base",children:t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx("button",{className:g("transition px-5 md:px-7 py-[.30rem] md:py-[.35rem] rounded-md","text-base bg-white text-blue-600","border md:border-2 border-blue-600","text-sm md:text-base","hover:bg-blue-600 hover:text-white"),type:"button",onClick:p(s.id),children:"Jelajahi"}),t.jsx("button",{className:g("transition px-5 md:px-7 py-[.30rem] md:py-[.35rem] rounded-md","text-base bg-white text-blue-600","border md:border-2 border-blue-600","text-sm md:text-base","hover:bg-blue-600 hover:text-white"),type:"button",onClick:y(s.id),children:"Edit"})]})})]},o)),t.jsx("tr",{})]})]})})};function z(e,l){const[c,r]=d.useState(e);return d.useEffect(()=>{const m=setTimeout(()=>r(e),l||500);return()=>{clearTimeout(m)}},[e,l]),c}const G=({data:e,row:l,page:c,rowInfo:r,onSetPage:m})=>{const i=d.useMemo(()=>[...Array(Math.ceil(((e==null?void 0:e.length)??1)/l))].map((h,j)=>j+1),[e==null?void 0:e.length,l]),n=Math.ceil(((e==null?void 0:e.length)??1)/l)>5?5:Math.ceil(((e==null?void 0:e.length)??1)/l),x=[...Array(n)].map((a,h)=>h+Math.max(c-Math.floor(n/2),1)),p=a=>()=>m(a),y=()=>m(a=>Math.max(1,a-1)),s=()=>m(a=>Math.min(a+1,i.length)),o=x.map(a=>{if(a<=i.length)return t.jsx("button",{className:g("font-normal tracking-wide rounded-md w-10 text-sm md:text-base",c===a?"text-white border bg-blue-500 h-[2.1rem]":"text-blue-500 border border-blue-500 h-9"),onClick:p(a),children:a},a)});return t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-y-4 mt-8 md:mt-4",children:[t.jsx("div",{"aria-label":"information",children:t.jsxs("p",{className:"text-sm md:text-base",children:["Menampilkan ",r==null?void 0:r.start," sampai ",r==null?void 0:r.end," dari"," ",r==null?void 0:r.length," masukan"]})}),t.jsxs("div",{className:"flex items-center gap-3 tracking-wide text-sm md:text-base","aria-label":"pagination-button",children:[t.jsx("button",{onClick:y,className:g("text-gray-500 bg-gray-100 py-2 px-4 rounded-lg",c===1&&"cursor-not-allowed"),children:"Sebelumnya"}),o,t.jsx("button",{onClick:s,className:g("text-gray-500 bg-gray-100 py-2 px-4 rounded-lg",c===i.length&&"cursor-not-allowed"),children:"Selanjutnya"})]})]})};function q(){const{data:e,status:l,refetch:c}=k(),[r,m]=d.useState(""),i=z(r,1e3),[n,x]=d.useState(10),[p,y]=d.useState({start:0,end:0,length:0}),[s,o]=d.useState(1),a=d.useMemo(()=>{var u;return(u=e==null?void 0:e.data)==null?void 0:u.filter(b=>b.name.toLowerCase().includes(i.toLowerCase()))},[i,e==null?void 0:e.data]),h=d.useMemo(()=>{let u,b;return i.length?(u=(s-1)*n,b=u+n,y({start:a!=null&&a.length?u+1:0,end:b>((a==null?void 0:a.length)??0)?(a==null?void 0:a.length)??0:b,length:(a==null?void 0:a.length)??0})):(u=(s-1)*n,b=u+n,y({start:u+1,end:b>((e==null?void 0:e.data.length)??0)?(e==null?void 0:e.data.length)??0:b,length:(e==null?void 0:e.data.length)??0})),a==null?void 0:a.slice(u,b)},[i.length,a,s,n,e==null?void 0:e.data.length]),j=d.useCallback(u=>{x(u),o(1)},[]),_=d.useCallback(u=>{m(u.target.value),o(1)},[]);return t.jsx(C,{children:t.jsxs("div",{className:"mx-5 my-4",children:[l==="loading"?t.jsx("div",{className:"h-[calc(100vh_-_100px)] flex justify-center items-center",children:t.jsxs("div",{className:"w-max mx-auto p-2","aria-label":"groups-loader",children:[t.jsx(v,{color:"blue",width:200,height:3}),t.jsx("p",{className:"text-sm md:text-base mt-2 text-gray-500 text-center",children:"Mengambil data tour ..."})]})}):null,l==="success"?t.jsxs(t.Fragment,{children:[t.jsx(R,{row:n,onChangeRow:j,onChangeSearch:_}),t.jsx(O,{data:h??[]}),t.jsx(G,{page:s,row:n,rowInfo:p,onSetPage:o,data:i?a:e==null?void 0:e.data})]}):null,l==="error"?t.jsx("div",{className:"h-[calc(100vh_-_100px)] flex justify-center items-center",children:t.jsxs("div",{className:"w-max mx-auto my-4 flex flex-col items-center justify-center gap-3",children:[t.jsx("p",{className:"text-sm md:text-base mt-2 text-gray-500",children:"Gagal mengambil data tour"}),t.jsx("button",{className:g("transition px-5 md:px-7 py-[.30rem] md:py-[.35rem] text-base border md:border-2 border-[#1F3DBD] bg-white rounded-md text-[#1F3DBD]","text-sm md:text-base"),type:"button",onClick:()=>c(),children:"Muat ulang"})]})}):null]})})}export{q as default};
