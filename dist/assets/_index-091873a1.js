import{R as t,b as R,j as u}from"./index-1d66920e.js";import{a as j,L as v}from"./tour-27cc033d.js";import{a as w}from"./room-14ea4492.js";import{P as m}from"./PannellumVideo-518fd5eb.js";const g="";function H(){var f;const[d,l]=t.useState(null),{idTour:r}=R(),{data:e,status:y}=j({id:Number(r)});t.useEffect(()=>{e!=null&&e.data.length&&l(e==null?void 0:e.data[0].id)},[e==null?void 0:e.data]);const i=t.useMemo(()=>{const a=e==null?void 0:e.data[0],n=e==null?void 0:e.data.find(s=>s.id===d);return d?n:a},[d,e==null?void 0:e.data]),{data:c}=w({id:String(d)}),x=({room_id:a})=>()=>l(a);return u.jsx(v,{children:u.jsx(m,{title:i==null?void 0:i.name,width:"100%",height:"93vh",image:y==="success"?g+(i==null?void 0:i.image_url):"",autoLoad:!0,hfov:100,haov:360,vaov:180,pitch:0,yaw:0,children:(f=c==null?void 0:c.data)==null?void 0:f.map((a,n)=>a.type==="info"?u.jsx(m.Hotspot,{type:"info",pitch:a==null?void 0:a.pitch,yaw:a==null?void 0:a.yaw,text:a.text},n):a.type==="custom"?u.jsx(m.Hotspot,{type:"custom",pitch:a==null?void 0:a.pitch,yaw:a==null?void 0:a.yaw,handleClick:x({room_id:Number(a.room_link_id)})},n):null)})})}export{H as default};
