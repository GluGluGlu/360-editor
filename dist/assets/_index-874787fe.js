import{R as d,j as t,c as M,u as w,_ as v}from"./index-874a591d.js";import{c as g,A as N,m as S,G as f,a as k,L as C}from"./tour-47b8ef40.js";import{B as D}from"./index.esm-6eb8bd9d.js";import{a as Y,d as T}from"./dayjs.min-5f982226.js";const L={hidden:{opacity:0,top:100,transition:{duration:.2}},show:{opacity:1,top:50,transition:{duration:.2}}},A=[10,25,50,100],H=({defaultvalue:e,rows:c=A,onChange:l})=>{const[n,o]=d.useState(!1),m=()=>o(u=>!u),s=u=>()=>{l(u),m()};return t.jsxs("div",{className:"relative",children:[t.jsx("button",{type:"button",onClick:m,className:g("form-select rounded-lg w-[4rem] h-8 md:h-10 md:w-[5rem] text-gray-500 flex justify-center items-center","border-gray-300 focus:border-gray-300 focus:ring-0"),children:e}),t.jsx(N,{children:n&&t.jsx(S.div,{className:"absolute bg-white rounded-md shadow-md w-[6rem] top-14 z-10","aria-label":"row-select-wrapper",variants:L,initial:"hidden",animate:"show",exit:"hidden",children:c.map((u,p)=>t.jsx("div",{role:"button",onClick:s(u),tabIndex:0,className:g("flex items-center justify-between px-3 py-2 text-[1.1rem]",e===u?"bg-blue-100/50 text-black":"text-gray-400"),children:t.jsx("span",{children:u})},p))})})]})},R=({row:e,onChangeRow:c,onChangeSearch:l})=>t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between","aria-label":"filtering",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm md:text-base","aria-label":"filtering__row-select",children:[t.jsx("p",{className:"text-gray-700",children:"Tampilkan"}),t.jsx(H,{defaultvalue:e,onChange:n=>c(n)}),t.jsx("p",{className:"text-gray-700",children:"Masukan"})]}),t.jsxs("div",{className:"relative w-full md:w-4/12 lg:w-2/12 my-5","aria-label":"filtering__input-search",children:[t.jsx("input",{className:g("border-gray-300 focus:border-gray-300 focus:ring-0 px-4 text-gray-900","focus:outline-none w-full tracking-wide rounded-lg","placeholder:font-medium placeholder:tracking-wide placeholder:text-gray-400 text-sm md:text-base","peer/search"),onChange:l,type:"search",placeholder:"Cari nama tour"}),t.jsx(D,{className:"absolute top-3 right-4 peer-focus/search:hidden peer-hover/search:hidden"})]})]});function J(e){return f({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M7 10l5 5 5-5H7z"}}]})(e)}function B(e){return f({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M7 14l5-5 5 5H7z"}}]})(e)}var P={exports:{}};(function(e,c){(function(l,n){e.exports=n(Y)})(M,function(l){function n(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var o=n(l),m={name:"id",weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function(s){return s+"."}};return o.default.locale(m,null,!0),m})})(P);const E=["Tanggal di buat","Nama Tour","Action"],O=({data:e})=>{const c=w(),[l,n]=d.useState("Nama Tour"),[o,m]=d.useState("asc"),s=d.useMemo(()=>["Tanggal di buat"].includes(l)?e.sort((r,i)=>{const h=new Date(r.created_at).getTime(),a=new Date(i.created_at).getTime();return o==="asc"?h-a:a-h}):["Nama Tour"].includes(l)?e==null?void 0:e.sort((r,i)=>{var h,a;return o==="asc"?(h=r.name)==null?void 0:h.localeCompare(i.name):(a=i.name)==null?void 0:a.localeCompare(r.name)}):e,[e,l,o]),u=r=>()=>{m(i=>i==="asc"?"desc":"asc"),n(r)},p=r=>()=>c(`/editor/${r}`);return t.jsx("div",{className:"overflow-x-auto","aria-label":"table-container",children:t.jsxs("table",{className:"w-full border-collapse min-w-[1500px]",children:[t.jsx("thead",{children:t.jsx("tr",{className:"bg-blue-700 text-white",children:E.map((r,i)=>t.jsx("th",{className:"w-1/6 font-medium py-2 lg:py-3 cursor-pointer text-sm md:text-base",children:t.jsxs("div",{className:"w-max mx-auto flex items-center",onClick:u(r),children:[r,t.jsx("div",{className:"flex flex-col opacity-60 hover:opacity-100",children:r!=="Action"&&t.jsxs(t.Fragment,{children:[t.jsx(B,{className:"translate-y-1"}),t.jsx(J,{className:"-translate-y-1"})]})})]})},i))})}),t.jsxs("tbody",{children:[s==null?void 0:s.map((r,i)=>t.jsxs("tr",{className:g((i+1)%2===0?"bg-blue-500/10":""),children:[t.jsx("td",{className:"w-1/6 py-[.3rem] md:py-[.5rem] lg:py-2 text-center text-sm md:text-base",children:T(r.created_at).locale("id").format("ddd D MMM YYYY")}),t.jsx("td",{className:"w-1/6 py-[.3rem] md:py-[.5rem] lg:py-2 text-center text-sm md:text-base",children:r.name}),t.jsx("td",{className:"w-1/6 py-[.3rem] md:py-[.5rem] lg:py-2 text-center text-sm md:text-base",children:t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx("button",{className:g("transition px-5 md:px-7 py-[.30rem] md:py-[.35rem] rounded-md","text-base bg-white text-blue-600","border md:border-2 border-blue-600","text-sm md:text-base","hover:bg-blue-600 hover:text-white"),type:"button",children:"Jelajahi"}),t.jsx("button",{className:g("transition px-5 md:px-7 py-[.30rem] md:py-[.35rem] rounded-md","text-base bg-white text-blue-600","border md:border-2 border-blue-600","text-sm md:text-base","hover:bg-blue-600 hover:text-white"),type:"button",onClick:p(r.id),children:"Edit"})]})})]},i)),t.jsx("tr",{})]})]})})};function z(e,c){const[l,n]=d.useState(e);return d.useEffect(()=>{const o=setTimeout(()=>n(e),c||500);return()=>{clearTimeout(o)}},[e,c]),l}const G=({data:e,row:c,page:l,rowInfo:n,onSetPage:o})=>{const m=d.useMemo(()=>[...Array(Math.ceil(((e==null?void 0:e.length)??1)/c))].map((y,j)=>j+1),[e==null?void 0:e.length,c]),s=Math.ceil(((e==null?void 0:e.length)??1)/c)>5?5:Math.ceil(((e==null?void 0:e.length)??1)/c),u=[...Array(s)].map((a,y)=>y+Math.max(l-Math.floor(s/2),1)),p=a=>()=>o(a),r=()=>o(a=>Math.max(1,a-1)),i=()=>o(a=>Math.min(a+1,m.length)),h=u.map(a=>{if(a<=m.length)return t.jsx("button",{className:g("font-normal tracking-wide rounded-md w-10 text-sm md:text-base",l===a?"text-white border bg-blue-500 h-[2.1rem]":"text-blue-500 border border-blue-500 h-9"),onClick:p(a),children:a},a)});return t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-y-4 mt-8 md:mt-4",children:[t.jsx("div",{"aria-label":"information",children:t.jsxs("p",{className:"text-sm md:text-base",children:["Menampilkan ",n==null?void 0:n.start," sampai ",n==null?void 0:n.end," dari"," ",n==null?void 0:n.length," masukan"]})}),t.jsxs("div",{className:"flex items-center gap-3 tracking-wide text-sm md:text-base","aria-label":"pagination-button",children:[t.jsx("button",{onClick:r,className:g("text-gray-500 bg-gray-100 py-2 px-4 rounded-lg",l===1&&"cursor-not-allowed"),children:"Sebelumnya"}),h,t.jsx("button",{onClick:i,className:g("text-gray-500 bg-gray-100 py-2 px-4 rounded-lg",l===m.length&&"cursor-not-allowed"),children:"Selanjutnya"})]})]})};function q(){const{data:e,status:c,refetch:l}=k(),[n,o]=d.useState(""),m=z(n,1e3),[s,u]=d.useState(10),[p,r]=d.useState({start:0,end:0,length:0}),[i,h]=d.useState(1),a=d.useMemo(()=>{var x;return(x=e==null?void 0:e.data)==null?void 0:x.filter(b=>b.name.toLowerCase().includes(m.toLowerCase()))},[m,e==null?void 0:e.data]),y=d.useMemo(()=>{let x,b;return m.length?(x=(i-1)*s,b=x+s,r({start:a!=null&&a.length?x+1:0,end:b>((a==null?void 0:a.length)??0)?(a==null?void 0:a.length)??0:b,length:(a==null?void 0:a.length)??0})):(x=(i-1)*s,b=x+s,r({start:x+1,end:b>((e==null?void 0:e.data.length)??0)?(e==null?void 0:e.data.length)??0:b,length:(e==null?void 0:e.data.length)??0})),a==null?void 0:a.slice(x,b)},[m.length,a,i,s,e==null?void 0:e.data.length]),j=d.useCallback(x=>{u(x),h(1)},[]),_=d.useCallback(x=>{o(x.target.value),h(1)},[]);return t.jsx(C,{children:t.jsxs("div",{className:"mx-5 my-4",children:[c==="loading"?t.jsx("div",{className:"h-[calc(100vh_-_100px)] flex justify-center items-center",children:t.jsxs("div",{className:"w-max mx-auto p-2","aria-label":"groups-loader",children:[t.jsx(v,{color:"blue",width:200,height:3}),t.jsx("p",{className:"text-sm md:text-base mt-2 text-gray-500 text-center",children:"Mengambil data tour ..."})]})}):null,c==="success"?t.jsxs(t.Fragment,{children:[t.jsx(R,{row:s,onChangeRow:j,onChangeSearch:_}),t.jsx(O,{data:y??[]}),t.jsx(G,{page:i,row:s,rowInfo:p,onSetPage:h,data:m?a:e==null?void 0:e.data})]}):null,c==="error"?t.jsx("div",{className:"h-[calc(100vh_-_100px)] flex justify-center items-center",children:t.jsxs("div",{className:"w-max mx-auto my-4 flex flex-col items-center justify-center gap-3",children:[t.jsx("p",{className:"text-sm md:text-base mt-2 text-gray-500",children:"Gagal mengambil data tour"}),t.jsx("button",{className:g("transition px-5 md:px-7 py-[.30rem] md:py-[.35rem] text-base border md:border-2 border-[#1F3DBD] bg-white rounded-md text-[#1F3DBD]","text-sm md:text-base"),type:"button",onClick:()=>l(),children:"Muat ulang"})]})}):null]})})}export{q as default};
