import{R as t,b as j,j as u}from"./index-4b47ff25.js";import{a as v,L as g}from"./tour-371de594.js";import{a as I}from"./room-e6c829d2.js";import{P as l}from"./PannellumVideo-83c9fc9d.js";const r="";function L(){var m;const[d,f]=t.useState(null),{idTour:y}=j(),{data:i,status:x}=v({id:Number(y)});t.useEffect(()=>{i!=null&&i.data.length&&f(i==null?void 0:i.data[0].id)},[i==null?void 0:i.data]);const e=t.useMemo(()=>{const a=i==null?void 0:i.data[0],n=i==null?void 0:i.data.find(w=>w.id===d);return d?n:a},[d,i==null?void 0:i.data]),{data:c}=I({id:String(d)}),s=({room_id:a})=>()=>f(a);return u.jsx(g,{children:u.jsx(l,{title:e==null?void 0:e.name,width:"100%",height:"93vh",image:x==="success"?r+(e==null?void 0:e.image_url):"",autoLoad:!0,hfov:100,haov:360,vaov:180,pitch:(e==null?void 0:e.pitch)??0,yaw:(e==null?void 0:e.yaw)??0,children:(m=c==null?void 0:c.data)==null?void 0:m.map((a,n)=>a.type==="info"?u.jsx(l.Hotspot,{type:"info",pitch:a==null?void 0:a.pitch,yaw:a==null?void 0:a.yaw,text:a.text},n):a.type==="custom"?u.jsx(l.Hotspot,{type:"custom",pitch:a==null?void 0:a.pitch,yaw:a==null?void 0:a.yaw,handleClick:s({room_id:Number(a.room_link_id)})},n):null)})})}export{L as default};
